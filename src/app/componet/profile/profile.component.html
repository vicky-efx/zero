<div class="page-header">
  <h1>Profile</h1>
</div>

<div class="profile-container">
  <!-- Profile Header -->
  <div class="profile-header">
    <div class="profile-pic-wrapper">
      <img [src]="user?.image || 'https://i.pravatar.cc/150?u=' + user?.id" alt="Profile" class="profile-pic"
        (click)="triggerFileInput()" />
      <input type="file" #fileInput accept="image/*" hidden (change)="onFileSelected($event)" />
    </div>

    <div class="profile-info">
      <h2>{{ user?.name }}</h2>
      <p class="bio">{{ user?.bio || "Love is in the air ðŸ’–" }}</p>

      <div class="buttons">
        <button class="edit-btn" (click)="editProfile()">Edit Profile</button>
        <button class="logout-btn" (click)="confirmLogout()">Logout</button>
      </div>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div class="modal-overlay" *ngIf="showLogoutConfirm">
    <div class="modal">
      <h3>Confirm Logout</h3>
      <p>Are you sure you want to logout?</p>
      <div class="modal-actions">
        <button (click)="logout()">Yes</button>
        <button class="cancel" (click)="cancelLogout()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Profile Details -->
  <div class="profile-details">
    <div class="detail-row">
      <label>Email:</label>
      <span>{{ user?.email }}</span>
    </div>
    <div class="detail-row">
      <label>Phone:</label>
      <span>{{ user?.phoneNumber }}</span>
    </div>
    <div class="detail-row">
      <label>Age:</label>
      <span>{{ user?.age }}</span>
    </div>
    <div class="detail-row">
      <label>Status:</label>
      <span>{{ user?.status }}</span>
    </div>
    <div class="detail-row">
      <label>Last Seen:</label>
      <span>{{ user?.lastSeen | date:'medium' }}</span>
    </div>
  </div>

  <!-- Edit Modal -->
  <div class="modal-overlay" *ngIf="editing">
    <div class="modal">
      <h3>Edit Profile</h3>

      <label>Name:
        <input [(ngModel)]="editableUser.name" />
      </label>

      <label>Age:
        <input type="number" [(ngModel)]="editableUser.age" />
      </label>

      <label>Phone Number:
        <input type="tel" [(ngModel)]="editableUser.phoneNumber" />
      </label>

      <label>Bio:
        <input [(ngModel)]="editableUser.bio" />
      </label>

      <div class="modal-actions">
        <button (click)="saveEdits()">Save</button>
        <button class="cancel" (click)="cancelEdits()">Cancel</button>
      </div>
    </div>
  </div>
</div>